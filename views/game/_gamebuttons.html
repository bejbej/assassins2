{{if any(btn.values()):}}

{{if btn['join']:}}<button id="joingame" class="btn btn-primary">Join Game</button>{{pass}}
{{if btn['leave']:}}<button id="leavegame" class="btn btn-default">Leave Game</button>{{pass}}
{{if btn['start']:}}<button id="startgame" class="btn btn-primary">Start Game</button>{{pass}}
{{if btn['edit']:}}<a class="btn btn-default" href="{{=URL("game","editgame",args=[game.id])}}">Edit Game</a>{{pass}}

<script type="text/javascript">
    $(document).ready(function () {
        $("#joingame").on("click", function () {
            $.ajax({
                type:"POST",
                url:"{{=URL("game","joingame.json")}}",
                data:{id:{{=game.id}}},
                async:false,
                success:location.reload(true)
            })
        });
        
        $("#leavegame").on("click", function () {
            $.ajax({
                type:"POST",
                url:"{{=URL("game","leavegame.json")}}",
                data:{id:{{=game.id}}},
                async:false,
                success:location.reload(true)
            })
        });
        
        $("#startgame").on("click", function () {
            $.ajax({
                type:"POST",
                url:"{{=URL("game","startgame.json")}}",
                data:{id:{{=game.id}}},
                async:false,
                success:location.reload(true)
            })
        });
        
        $("#deletegame").on("click", function () {
            $.ajax({
                type:"POST",
                url:"{{=URL("game","deletegame.json")}}",
                data:{id:{{=game.id}}},
                async:false,
                success:function () {
                    window.location.href = "{{=URL("game","current")}}"
                }
            })
        });
    });
</script>
{{pass}}